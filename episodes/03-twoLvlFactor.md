---
# Please do not edit this file directly; it is auto generated.
# Instead, please edit 03-twoLvlFactor.md in _episodes_rmd/
title: "Linear regression with a two-level factor explanatory variable"
source: Rmd
objectives:
- Appreciate that measuring the relationship between a two-level factor variable and
  a continuous variable is a regression problem.
- Use the ggplot2 package to explore the relationship between a continuous variable
  and a two-level factor variable.
- Use the lm command to fit a simple linear regression with a two-level factor explanatory
  variable.
- Use the jtools package to interpret the model output.
- Use the ggplot2 package to visualise the resulting model.
keypoints: DEF
questions: GHI
teaching: 10
execises: 10
---






~~~
dat %>%
  drop_na(c("PhysActive", "Pulse")) %>%
  ggplot(., aes(x=PhysActive, y=Pulse)) +
  geom_violin() +
  stat_summary(fun = "mean", size = 0.2) +
  stat_summary(fun.data = "mean_cl_normal", geom="errorbar", width=0.2) 
~~~
{: .language-r}



~~~
Warning: Removed 2 rows containing missing values (geom_segment).
~~~
{: .warning}

<img src="../fig/rmd-03-explore physical activity vs pulse-1.png" title="plot of chunk explore physical activity vs pulse" alt="plot of chunk explore physical activity vs pulse" width="612" style="display: block; margin: auto;" />

> ## Exercise  
> You have been asked to model the relationship between pulse
> and physical activity in the NHANES data. Use the ggplot2 package  
> to create an exploratory plot, ensuring that it includes the following elements:  
> 1. Pulse (`Pulse`) on the y-axis and physical activity (`PhysActive`) on the
> x-axis, from the NHANES data.  
> 2. This data shown as a violin plot.  
> 3. The y-axis labelled as "Pulse" and the x-axis labelled
> as "Physically active".  
{: .challenge}


~~~
Pulse_PhysActive_lm <- lm(Pulse ~ PhysActive, data = dat)

summ(Pulse_PhysActive_lm, confint = TRUE, digits=3)
~~~
{: .language-r}



~~~
MODEL INFO:
Observations: 8039 (1961 missing obs. deleted)
Dependent Variable: Pulse
Type: OLS linear regression 

MODEL FIT:
F(1,8037) = 25.523, p = 0.000
R² = 0.003
Adj. R² = 0.003 

Standard errors: OLS
----------------------------------------------------------------
                        Est.     2.5%    97.5%    t val.       p
------------------- -------- -------- -------- --------- -------
(Intercept)           73.742   73.348   74.136   366.488   0.000
PhysActiveYes         -1.358   -1.885   -0.831    -5.052   0.000
----------------------------------------------------------------
~~~
{: .output}

> ## Exercise  
> 1. Using the `lm()` command, fit a simple linear regression of pulse (`Pulse`)  
> as a function of physical activity (`PhysActive`). Name this `lm` 
> object `Pulse_PhysActive_lm`.  
> 2. Using the `summary()` function, answer the following questions:
>   
> A) What pulse does the model predict, on average,
> for an individual who is characterised as not physically active?  
> B) By how much is pulse expected to change, on average, for
> a physically active individual?  
> C) Given these two values and the names of the response and explanatory
> variables, how can the general equation $E(y) = \beta_0 + {\beta}_1 
> \times x$ be adapted to represent this model?  
{: .challenge}


~~~
effect_plot(Pulse_PhysActive_lm, pred = PhysActive)
~~~
{: .language-r}

<img src="../fig/rmd-03-plot pulse vs physactive with model-1.png" title="plot of chunk plot pulse vs physactive with model" alt="plot of chunk plot pulse vs physactive with model" width="612" style="display: block; margin: auto;" />

> ## Exercise  
> Use the `jtools` package to visualise the model of `Pulse` as a function of `PhysActive`.  
> How does this plot relate to the output given by `summ`?  
{: .challenge}


