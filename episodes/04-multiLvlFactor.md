---
# Please do not edit this file directly; it is auto generated.
# Instead, please edit 04-multiLvlFactor.md in _episodes_rmd/
source: Rmd
title: "Linear regression with a multi-level factor explanatory variable"
objectives:
  - "Use the ggplot2 package to explore the relationship between a continuous variable and a factor variable with more than two levels."
  - "Use the lm command to fit a simple linear regression with a factor explanatory variable with more than two levels."
  - "Use the jtools package to interpret the model output."
  - "Use the jtools and ggplot2 packages to visualise the resulting model."
keypoints:
  - "DEF"
questions:
  - "GHI"
teaching: 10
execises: 10
---






~~~
dat %>%
  drop_na(c("Depressed", "Weight")) %>%
  ggplot(., aes(x=Depressed, y=Weight)) +
  geom_violin() +
  stat_summary(fun = "mean", size = 0.2) +
  stat_summary(fun.data = "mean_cl_normal", geom="errorbar", width=0.2) 
~~~
{: .language-r}



~~~
Warning: Removed 3 rows containing missing values (geom_segment).
~~~
{: .warning}

<img src="../fig/rmd-04-explore Weight vs Depressed-1.png" title="plot of chunk explore Weight vs Depressed" alt="plot of chunk explore Weight vs Depressed" width="612" style="display: block; margin: auto;" />



~~~
Weight_Depressed_lm <- lm(Weight ~ Depressed, data = dat)

summ(Weight_Depressed_lm, confint = TRUE, digits=3)
~~~
{: .language-r}



~~~
MODEL INFO:
Observations: 6627 (3373 missing obs. deleted)
Dependent Variable: Weight
Type: OLS linear regression 

MODEL FIT:
F(2,6624) = 0.963, p = 0.382
R² = 0.000
Adj. R² = -0.000 

Standard errors: OLS
-------------------------------------------------------------------
                           Est.     2.5%    97.5%    t val.       p
---------------------- -------- -------- -------- --------- -------
(Intercept)              82.397   81.821   82.974   280.328   0.000
DepressedSeveral          0.855   -0.584    2.293     1.165   0.244
DepressedMost             0.951   -1.177    3.078     0.876   0.381
-------------------------------------------------------------------
~~~
{: .output}


~~~
effect_plot(Weight_Depressed_lm, pred = Depressed)
~~~
{: .language-r}

<img src="../fig/rmd-04-plot weight vs depressed with model-1.png" title="plot of chunk plot weight vs depressed with model" alt="plot of chunk plot weight vs depressed with model" width="612" style="display: block; margin: auto;" />

